----
= Plugin Autodl-Irssi =
----

<wiki:toc />


== Description ==

Plugin for rutorrent which uses irssi to monitor IRC announce channels and download torrents based on user defined filters.


== 3rd party download site == 

http://sourceforge.net/projects/autodl-irssi/



== Installation ==

This plugin depends on irssi and several perl modules.  Check your distribution for info on installing irssi


=== Perl modules ===

*Debian/Ubuntu*

{{{
apt-get -y install libarchive-zip-perl libnet-ssleay-perl libhtml-parser-perl libxml-libxml-perl libdigest-sha1-perl libjson-perl libjson-xs-perl libxml-libxslt-perl
}}}

*Fedora/Centos*
{{{
yum -y install perl-Archive-Zip perl-Net-SSLeay perl-HTML-Parser perl-XML-LibXML perl-Digest-SHA1 perl-JSON perl-JSON-XS perl-XML-LibXSLT
}}}

*OpenSUSE*
{{{
yast -i perl-Archive-Zip perl-Net-SSLeay perl-HTML-Parser perl-XML-LibXML perl-Digest-SHA1 perl-XML-LibXSLT
# This may fail, so you may need to add a 3rd-party repo to install them or use the cpan utility.
yast -i perl-JSON perl-JSON-XS
}}}

*PCLinuxOS*
{{{
apt-get -y install perl-Archive-Zip perl-HTML-Parser perl-XML-LibXML perl-Digest-SHA1
use cpan: perl-Net-SSLeay perl-JSON perl-JSON-XS perl-XML-LibXSLT
}}}

*Mandriva*
{{{
urpmi perl-Archive-Zip perl-Net-SSLeay perl-HTML-Parser perl-XML-LibXML perl-Digest-SHA1 perl-JSON perl-JSON-XS perl-XML-LibXSLT
}}}

*Arch Linux*
{{{
1-pacman -S perl-archive-zip perl-net-ssleay perl-html-parser perl-xml-libxml perl-digest-sha1 perl-json perl-json-xs perl-xml-libxslt
}}}

*FreeBSD*
{{{
pkg_add -r p5-Archive-Zip p5-Net-SSLeay p5-HTML-Parser p5-XML-LibXML p5-Digest-SHA1 p5-JSON p5-JSON-XS p5-XML-LibXSLT
}}}

*Other os/Generic method via CPAN*
{{{
cpan Archive::Zip Net::SSLeay HTML::Entities XML::LibXML Digest::SHA1 JSON JSON::XS XML::LibXSLT
}}}


=== Installing autodl-irssi ===

For the rtorrent plugin to work, you need to install the irssi script.  After installing the perl dependencies, login as your rtorrent user and do the following:

{{{
mkdir -p ~/.irssi/scripts/autorun
cd ~/.irssi/scripts
wget https://sourceforge.net/projects/autodl-irssi/files/autodl-irssi-v1.05.zip/download
unzip -o autodl-irssi-v*.zip
rm autodl-irssi-v*.zip
cp autodl-irssi.pl autorun/
mkdir -p ~/.autodl
touch ~/.autodl/autodl.cfg
}}}

_(or to install via svn)_

{{{
mkdir -p ~/.irssi/
cd ~/.irssi/
svn export https://autodl-irssi.svn.sourceforge.net/svnroot/autodl-irssi/trunk/src scripts
mkdir scripts/autorun/
cp scripts/autodl-irssi.pl scripts/autorun/
mkdir -p ~/.autodl
touch ~/.autodl/autodl.cfg
}}}


=== Install the rutorrent plugin ===

Installing the autodl-irssi-rutorrent plugin is like installing any other plugin

Assuming rutorrent is intalled at /var/www/ issue the following commands:
{{{
cd /var/www/rutorrent/plugins
sudo svn co https://autodl-irssi.svn.sourceforge.net/svnroot/autodl-irssi/trunk/rutorrent/autodl-irssi
sudo cp autodl-irssi/_conf.php autodl-irssi/conf.php
sudo chown -R www-data:www-data autodl-irssi
}}}


Edit the conf.php file, adding a port and password.

assuming port 12345 and password as the password it would look like the following:
{{{
<?php

$autodlPort = 12345;
$autodlPassword = "password";

?>
}}}
Finally, edit the  ~/.autodl/autodl.cfg in the rtorrent user's home directory adding the port/password:

{{{
[options]
gui-server-port = 12345
gui-server-password = password
}}}

== Usage ==

autodl-irssi adds the following menu item to the top bar:

http://img.skitch.com/20101103-kc2udj8anegqatw8ns765xbfjt.png

Clicking on this icon brings up the following menu:

http://img.skitch.com/20101103-fue8tfwx2dgue4us1xmi2awm7j.png

=== Filters ===

Under this section you can add and edit your filters.  The main filter menu looks like this:
This is all really self explanatory but as you can see, the first tab has the following items:


==== General ====

http://img.skitch.com/20101103-rtckeunr4fjetr4idxn65mdbh3.png

 * *New* - _Add a new filter_
 * *Remove* - _Remove an existing filter_
 * *Display name* - _Name of the filter_
 * *Match Release* - _Releases you want to match_
 * *Except releases* - _Releases you do not want to match_
 * *Match Sites* - _ist of sites you wish to match against_
 * *Minimum size*- _minimum size_
 * *Maximum size* - _maximum size_

==== TV/Movies ====

http://img.skitch.com/20101103-f3nay9a6t4a12q3t26nbdksqua.png

 * *TV Show/Movie* - _Name of TV Show_
 * *Seasons* - _Seasons you wish you match, i.e 1,4,7 or 1-5_
 * *Episodes*  _Episodes you wish to match i.e. 2,4,13  2-9_
 * *Resolutions* _Resolutions you wish to match i.e 720p, 1080p_
 * *Encodes* - _Encodes you wish to match i.e DivX, h.264, x264_
 * *Sources* - _Sources you wish to match i.e. HDTV, Web-DL_
 * *Years* - _Years  i.e. 2008, 1975, 1982_


==== Music ====

http://img.skitch.com/20101103-xi7s36tjt75bn9tepfet2kymx7.png

* *Years* - _Years, i.e. 1997, 1959, 2010_
* *Artists* - _Artist or Artists you wish to match_
* *Albums* - _Album or Albums you wish to match_
* *Formats* - _Formats, i.e. MP3, FLAC_
* *Bitrates* - _Bitrate you wish to match i.e. 320, Lossless_
* *Media* - _Source Media i.e. CD, WEB_
* *Tags* - _Tags you wish to match, hip-hop, rock, blues_
* *Scene* - _Whether or not it's scene or not_
* *Log* - _Log, yes or no or don't care_
* *Cue* -  _Cue, yes or no or don't care_

==== http://img.skitch.com/20101103-idt474xgh2w38m5x962wcqui5.png ====


== Sources ==

This information is from the following pages and forum posts:

http://forums.rutorrent.org/index.php?topic=517.0
http://sourceforge.net/apps/phpbb/autodl-irssi/viewtopic.php?f=1&t=3