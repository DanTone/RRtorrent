----
=Плагин throttle=
----

<wiki:TOC />

== Описание ==

Начиная с версии 0.8.5 в rTorrent появилась возможность устанавливать ограничения по ратио для групп закачек. Плагин реализует удобное управление данной возможностью. 
При установленном плагине в настройках ruTorrent появляется раздел "Группы ratio". В данном разделе можно задать ограничения по ратио для нескольких (по умолчанию - 8) групп. 
Назначение группы одной или нескольким закачкам осуществляется с помощью пункта в контекстном меню закачки.

Параметры группы следующие:
 * Min, % - минимальное ратио по достижении которого над закачкой будет произведено некое действие.
 * Max, % - максимальное ратио по достижении которого над закачкой будет произведено некое действие (максимальное ратио может отсутствовать, т.е. соотв. поле может содержать 0).
 * UL, Мб - минимальное количество данных, которое должно быть отдано, прежде чем над закачкой будет произведено некое действие.
 * Действие - собственно, что предпринимать по достижении условия. Можно остановить закачку, удалить ее или остановить и очистить группу ратио у закачки.

Собственно, все эти условия можно выразить следующим образом: "Сидировать закачку, пока ее ратио не достигнет Min и при этом не будет отдано как минимум UL мегабайт. В любом случае прекратить сидирование, если ратио достигнет Max".

[http://rutorrent.googlecode.com/svn/wiki/ru/images/ratio.jpg]

== Как оно работает ==

После первой загрузки с установленным плагином ratio, ruTorrent создает группы с требуемыми параметрами ратио. Т.к. группы создаются только после первой загрузки ruTorrent, то в промежуток между стартом rTorrent и первым после этого стартом ruTorrent ограничения на ратио действовать не будут. Чтобы избежать этого, нужно добавить в конфигурационный файл rTorrent [Plugins#%D0%90%D0%B2%D1%82%D0%BE%D1%81%D1%82%D0%B0%D1%80%D1%82_%D0%BF%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D0%BE%D0%B2 специально обученную строчку].

== Дополнительная настройка плагина ==

Производится в файле `plugins/ratio/conf.php`.
    * `MAX_RATIO` - константа содержит максимальное количество групп. Вы можете изменить эту величину как в большую, так и в меньшую сторону.
