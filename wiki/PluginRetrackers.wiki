#summary Описание плагина Retrackers.

== Введение ==

Плагин предоставляет возможность дополнять состав трекеров для вновь добавляемых закачек. Отмечу - закачки могут добавляться любым образом, не только посредством ruTorrent. 

После установки плагина в настройках ruTorrent появляется раздел "Ретрекеры". 

[http://vif2ne.ru/nvk/stuff/novik/rtorrent/wiki/en/retrackers.jpg]

Оформление списка трекеров производится так же, как в [http://www.utorrent.com/ uTorrent] - разные группы трекеров отделяются друг от друга пустой строкой. Все перечисленные трекеры будут добавлены к существующим в закачке начиная с группы трекеров 1. Для частных раздач изменение списка трекеров обычно не приветствуется. Однако, если Вы, тем не менее, очень этого хотите - уберите соотв. галку в диалоге.

== Как оно работает ==

После первой загрузки с установленным плагином retrackers, ruTorrent регистрирует в rTorrent собственный перехватчик события "новая закачка добавлена". После чего по наступлении этого события вызывается специально обученный скрипт, который меняет список трекеров в закачке. 

Еще раз обращаю внимание - процесс обработки начинается только после первой загрузки ruTorrent. Т.е. в промежуток между стартом rTorrent и первым после этого стартом ruTorrent никакой полезной работы производиться не будет. Чтобы избежать этого, нужно добавить в конфигурационный файл rTorrent специально обученную строчку (см. ниже).

Способ ручного редактирования состава трекеров закачек предоставляет плагин [PluginEdit Edit].

== Дополнительная настройка плагина ==

Производится в файле `plugins/retrackers/conf.php`.
    * `$isAutoStart` - переменная определяет способ начала работы. Если она равна `true`, то регистрация события происходит при загрузке ruTorrent. В противном случае Вы должны позаботиться о том, чтобы сделать сие самостоятельно. Для этого в файл конфигурации rTorrent нужно добавить строчку 
{{{system.method.set_key = event.download.inserted_new,add_trackers,"branch=$not=$d.get_custom3=,\"execute={full_path_to_plugin/run.sh,php,$d.get_hash=}\" ; d.set_custom3="}}}
 для версии rTorrent >= 0.8.4 или строчку
{{{on_insert = add_trackers,"branch=$not=$d.get_custom3=,\"execute={full_path_to_plugin/run.sh,php,$d.get_hash=}\" ; d.set_custom3="}}}
 для более ранних версий. full_path_to_plugin здесь - полный путь к плагину retrackers.