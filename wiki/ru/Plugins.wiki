#labels Featured
----
= Plugins =
----

<wiki:toc />

== Введение  ==

Часть функциональности ruTorrent реализуется плагинами, что дает пользователю возможность собрать "свой собственный теремок" без ненужных лично ему частей. [HowToCreatePlugin И даже дописать что-то недостающее, не затрагивая собственно код ruTorrent].

== Установка плагинов ==

Для установки плагина нужно развернуть содержимое его архива в директорию rtorrent/plugins. Уточняю - развернуть не нарушая структуры директорий в архиве, в результате каждому плагину должна соответствовать отдельная директория внутри rutorrent/plugins. 
Подробнее смотрите [DownloadPage загрузка архива] и [GetFromSVN загрузка с SVN].

*Внимание!* Ставьте только те плагины, которые Вам действительно нужны. Чем больше плагинов Вы поставите, тем медленнее будет происходить загрузка интерфейса ruTorrent.

== Удаление плагинов ==

Возможны два способа:

 # Удалить директорию плагина вместе с содержимым. Либо
 # Пометить плагин как незагружаемый [Config#Limiting_Plugins_(plugins.ini) в файле conf/plugins.ini].

*Внимание!* После удаления плагинов Вы должны рестартовать rTorrent. В противном случае ruTorrent может работать некорректно. Если останавливать rTorrent уж очень не хочется - загрузите ruTorrent и воспользуйтесь пунктом контекстного меню "Выгрузить" на закладке "Плагины" *перед* процедурой удаления.

== Настройка плагинов ==

В многопользовательской конфигурации имеется возможность настроить каждый плагин индивидуально для каждого пользователя. Для этого следует создать директорию rutorrent/conf/users/USERNAME/plugins/PLUGINNAME, 
скопировать в нее файл конфигурации плагина - conf.php - и отредактировать его по месту. Например, в Вашей системе имеются пользователи dick и tom, и Вы хотите, чтобы интервал обновления рассылок в плагине rss был для каждого из этих пользователей был свой. 
Примерная последовательность команд такова:

{{{
mkdir -p /var/www/rutorrent/conf/users/tom/plugins/rss
mkdir -p /var/www/rutorrent/conf/users/dick/plugins/rss
cp /var/www/rutorrent/plugins/rss/conf.php /var/www/rutorrent/conf/users/tom/plugins/rss
cp /var/www/rutorrent/plugins/rss/conf.php /var/www/rutorrent/conf/users/dick/plugins/rss
}}}

после чего изменяем значение переменной $updateInterval в tom/plugins/rss/conf.php и dick/plugins/rss/conf.php соответственно.

*Замечание:* некоторые плагины не имеют файла конфигурации, к ним данная техника неприменима.

== Автостарт плагинов ==

Как правило, плагины начинают работу, когда пользователь в первый раз загружает ruTorrent в браузере. Т.е. в промежуток между стартом rTorrent и первым после этого стартом ruTorrent никакой полезной работы производиться не будет. Чтобы избежать этого, нужно добавить в конфигурационный файл rTorrent специально обученную строчку:

{{{
execute = {sh,-c,/usr/bin/php /var/www/rutorrent/php/initplugins.php tom &}
}}}

*Замечание:* в Вашей конфигурации путь к интерпретатору php, путь к ruTorrent и имя пользователя (tom) скорее всего, отличаются. Не забудьте отредактировать их должным образом. В случае однопользовательской конфигурации имя пользователя должно отсутствовать.

== Список плагинов ==

 # [PluginRPC RPC] - плагин, осуществляющий связь между rtorrent и веб-сервером. (Замена mod_scgi).
 # [PluginErasedata erasedata] - добавляет в контекстное меню закачки пункт "Удалить вместе с данными".
 # [PluginDarkPal darkpal] - просто другая раскраска интерфейса ruTorrent.
 # [PluginCreate Сreate] - добавляет команду создания нового торрента.
 # [PluginTrafic trafic] - реализует подсистему учета трафика.
 # [PluginRSS RSS] - реализует работу с RSS-рассылками.
 # [PluginEdit edit] - позволяет редактировать список трекеров существующей закачки.
 # [PluginThrottle throttle] - позволяет устанавливать отдельные ограничения скорости для группы закачек.
 # [PluginRetrackers retrackers] - автоматически дописывает в добавляемые закачки необходимые ретрекеры. 
 # [PluginCookies cookies] - позволяет задавать набор cookies для трекеров, использующих соответствующую авторизацию.
 # [PluginSearch search] - позволяет задавать собственный набор поисковых сайтов.
 # [PluginScheduler scheduler] - реализует ограничения скорости закачки/отдачи в зависимости от часа суток и дня недели.
 # [PluginAutotools autotools] -  реализует некоторые функции автоматизации (autolabel, automove).
 # [PluginDataDir datadir] - позволяет сменить каталог данных торрента.
 # [PluginTracklabels tracklabels] - добавляет набор автоматически формируемых по трекерам меток закачек на панель категорий.
 # [PluginGeoIP geoip] - показывает флаги и названия стран для пиров. 
 # [PluginRatio ratio] - позволяет устанавливать отдельные ограничения ратио для группы закачек. 
 # [PluginShow_peers_like_wtorrent Show_peers_like_wtorrent] - меняет формат выдачи столбцов "Сиды" и "Пиры" для списка закачек. 
 # [PluginSeedingtime seedingtime] - добавляет в список закачек дополнительные столбецы, в которых фиксируется время добавления и завершения каждой закачки. 
 # [PluginHTTPRPC HTTPRPC] - плагин, осуществляющий связь между rtorrent и веб-сервером. (Замена mod_scgi для слабого канала).
 # [PluginDiskspace Diskspace] - индикатор свободного места на диске.
 # [PluginUnpack Unpack] - распаковка архивов.
 # [Plugin_getdir _getdir] - сервисный плагин, позволяющий осуществлять удобную навигацию по директориям сервера.
 # [PluginSource Source] - добавляет в контекстное меню закачки пункт "Получить .torrent файл".
 # [PluginChunks Chunks] - показывает информацию о скачанных частях закачки.
 # [PluginData Data] - добавляет в контекстное меню файла закачки пункт "Получить файл по HTTP".
