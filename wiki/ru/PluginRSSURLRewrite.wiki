----
= Plugin RSSURLRewrite =
----

<wiki:toc />

== Описание ==

Данный плагин расширяет функциональность [PluginRSS плагина RSS]. Если Вы не используете последний - то и этот плагин Вам не нужен. 

Для каждого элемента RSS рассылки ruTorrent формирует две ссылки. Одна используется для загрузки контента (как правило, .torrent-файла, пункт меню "Загрузить" и автозагрузка с помощью фильтров), другая - для просмотра описания в браузере (пункт меню "Открыть в браузере").
К сожалению, большинство рассылок содержит только одну ссылку. Этот плагин позволяет изменить ее либо сформировать по ней вторую.

== Использование ==

При нажатии кнопки "Правила замены URL в RSS" в верхнем тулбаре ruTorrent Вам будет показан диалог менеджера правил.

[http://rutorrent.googlecode.com/svn/wiki/ru/images/PluginRSSURLRewrite/manager.png]

Здесь Вы можете сформировать правила для замены соответствующих ссылок. 

 # На основании чего будем формировать новую ссылку. Доступно два варианта - ссылка на загрузку и ссылка на описание.
 # Шаблон, оформленный согласно синтаксису [http://www.regular-expressions.info PCRE]. Обращаю внимание на наличие границ шаблона (возможные символы - #, / или | как в данном примере) и необходимость экранирования служебных символов шаблона. Последовательности в скобках (в данном примере - \d+ означает одну или несколько десятичных цифр) будут запомнены для подстановки в результат.
 # Собственно, что будем формировать. Доступно два варианта - ссылка на загрузку и ссылка на описание.
 # Результат. На место последовательностей ${число} будут подставлены соответствующие фрагменты из скобок в шаблоне. Здесь "число" - порядковый номер последовательности начиная с единицы. В показанном примере сюда будет подставлен идентификатор торрента.
 # Для какой рассылки будет задействовано правило.
 # Данная кнопка предназначена для отладки правила.
 # Вставив сюда URL, и нажав вышеупомянутую кнопку, в поле "Результат" Вы увидите то, во что превратится данный URL согласно текущему правилу. Ну или увидите сообщение о том, что шаблон оформлен некорректно ;)

Сформированные правила отрабатывают в момент загрузки рассылки. Таким образом, чтобы увидеть результат, после добавления правила нужно обновить соответствующую рассылку, либо дождаться ее автообновления.

В отладочных целях плагин добавляет в контекстное меню рассылки пункт "Информация об URL". Используя его, можно быстро посмотреть на сформированные для данного элемента ссылки. Так:

[http://rutorrent.googlecode.com/svn/wiki/ru/images/PluginRSSURLRewrite/menu.png]

== Примеры ==

Формируем прямую ссылку на .torrent файл для RSS загрузок трекера [http://rutracker.org ruTracker.org]. Обращаю внимание - для корректной работы с данным трекером необходимо использовать [PluginLoginMgr плагин LoginMgr]:

[http://rutorrent.googlecode.com/svn/wiki/ru/images/PluginRSSURLRewrite/ruTracker.png]

Формируем линк на описание для [http://lostfilm.tv/rssdd.xml RSS загрузки] трекера [http://lostfilm.tv LostFilm.tv]. Обращаю внимание - для корректной работы с данным трекером необходимо использовать [PluginCookies плагин Cookies]:

[http://rutorrent.googlecode.com/svn/wiki/ru/images/PluginRSSURLRewrite/LostFilm.png]

== См. также ==

 * [PluginRSS плагин RSS]
 * [PluginLoginMgr плагин LoginMgr]