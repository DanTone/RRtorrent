----
= Плагин trafic =
----

<wiki:toc />

== Описание ==

Плагин реализует подсистему регистрации трафика rTorrent по всем используемым трекерам и торрентам. Доступны три позиции - почасовой график, по дням текущего месяца и по месяцам текущего года. Вы в любой момент можете очистить данные статистики, нажав на специально обученную кнопку на интерфейсе (см. скриншот). 

[http://rutorrent.googlecode.com/svn/wiki/ru/images/trafic_big.jpg http://rutorrent.googlecode.com/svn/wiki/ru/images/trafic_small.jpg]

== Как оно работает ==

После первой загрузки с установленным плагином trafic, ruTorrent выдает команду планировщику rTorrent, который, в свою очередь, начинает периодически сообщать показания текущего трафика.

Еще раз обращаю внимание - процесс опроса начинается только после первой загрузки ruTorrent. Т.е. в промежуток между стартом rTorrent и первым после этого стартом ruTorrent никакой полезной работы производиться не будет. Чтобы избежать этого, нужно добавить в конфигурационный файл rTorrent [Plugins#%D0%90%D0%B2%D1%82%D0%BE%D1%81%D1%82%D0%B0%D1%80%D1%82_%D0%BF%D0%BB%D0%B0%D0%B3%D0%B8%D0%BD%D0%BE%D0%B2 специально обученную строчку].

== Некоторые неочевидные моменты ==

 * Если установки времени на серверной и клиентской машине отличаются, Вы, возможно, будете иметь проблемы с интерпретацией графиков. Посему, если Вы, например, забыли выставить на сервере таймзону - рекомендуется таки сделать это, после чего очистить всю статистику.
 * Нажатие кнопки "Очистить" в позиции "Все трекеры" приведет к полной очистке всей статистики по всем трекерам. В позиции текущего трекера - только по нему, родному.
 * Показания трафика регистрируются для всех трекеров в нулевой группе каждой закачки. Для прочих групп - не регистрируются.
 * То, что Вы наблюдаете на графике, может не совпадать с показаниями статистики на сайте трекера. Т.к. плагин регистрирует только изменение цифирек для закачек, он не может знать - сообщены эти данные трекеру, или нет.

== Дополнительная настройка плагина ==

Производится в файле `plugins/trafic/conf.php`.
    * `$updateInterval` - переменная содержит интервал съема показаний трафика с rTorrent (в минутах). По умолчанию - 15 минут.
    * `$collectStatForTorrents` - производить ли сбор статистики по отдельным торрентам. По умолчанию - true.
