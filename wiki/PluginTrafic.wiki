#summary Trafic plug-in description

== Introduction ==
The Trafic plug-in is a subsystem for registration of the total (all trackers counted) rTorrent traffic. The plug-in has three options of the graph - hourly, daily and monthly. Statistics can be cleaned at any time by pressing corresponding button in the interface (see screenshot).

[http://rutorrent.googlecode.com/svn/wiki/images/trafic_big.jpg http://rutorrent.googlecode.com/svn/wiki/images/trafic_small.jpg]

== How does it work ==

When ruTorrent starts with installed Trafic plug-in first time it sends a command to the rTorrent scheduler, which begins provide the application with information about current traffic.
Once again - traffic registration begins after first start of the ruTorrent only. I.e. traffic is not counting in the time between start of the rTorrent and first (for this rTorrent session) start of the ruTorrent.
To avoid this, a special string should be added to the rTorrent configuration file (see below).

== Some non-obvious points ==

 * The time ticks shown on the chart are corresponding to the server's time. If time settings on the server and on the client are different, some problems with the chart interpreting may occur. If this happened, it is recommended to set correct time zone on all computers and then clean up statistics.
 * Activating the button "Clear" while the the option "All trackers" is selected will lead to erase of the whole statistic of all trackers. If a tracker is selected, the button will wipe the data of this particular tracker only.
 * The traffic is counting for all trackers in the zeroth group of every torrent. For all other groups the traffic will not be registered.
 * The data on the charts may not match to the tracker's statistics because the plug-in just counting the data provided by rTorrent. It doesn't know if the data has been sent to the tracker or not.

== Additional plug-in adjustment ==

Following changes should be done in the file `plugins/trafic/conf.php`.
    * `$updateInterval` - the variable sets the interval in minutes between requests to the rTorrent. Default - 15 minutes. 
    * `$isAutoStart` - the variable defines how the traffic counting starts. If it is set to "true", the command to the rTorrent scheduler will be sent on ruTorrent first start. Otherwise the scheduler need to activated independently. To do this, the following string should be added into the rTorrent configuration file:
{{{
schedule = trafic,10,00:15:00,"execute={sh,-c,php full_path_to_plugin/update.php& exit 0}"
}}}
 where full_path_to_plugin - is a full path to the Trafic plug-in. 