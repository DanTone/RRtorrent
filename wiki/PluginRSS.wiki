#summary RSS plug-in description

== Introduction ==

The plug-in is intended for work with [http://ru.wikipedia.org/wiki/Rss RSS-feeds]. The interface (and a part of this article) has been partially copied from [http://www.utorrent.com/documentation/rss ÂµTorrent]. 

== Usage==

====Adding a feed====

Click anywhere in the lower half of the sidebar,  where "All Feeds" is and choose "Add RSS Feed" (or just use the button RSS in the main menu). Enter your RSS feed's URL into the input box, and fill in the "Custom Alias" field if you want to give a name to the feed.

Note some feeds do not give direct links to the .torrent files. These feeds cannot be used for automatic downloading through filters.

====Suspending a feed====

To suspend a feed, simply right click the feed in the category list and choose "Disable Feed." If you want to re-enable it, simply right click again and choose "Enable Feed."

====Renaming a feed====

Any feed can be renamed and it's URL may be edited by right clicking it and choosing "Edit Feed".

====Viewing releases on an RSS feed====

To view the releases for an RSS feed, click on the feed. Alternatively, click on "All Feeds." All the releases currently on the feed will show in the main listview. Double clicking will attempt to open the release's URL in your browser.

Extra columns of information are available for RSS feeds. To enable or disable them, right click on the name of any column. You can also click and drag columns to rearrange them. These settings are independent of the columns available when viewing your loaded torrents.

====Using feeds that require HTTP authentication====

For feeds that require HTTP authentication, simply use this format for the feed URL: 
{{{
http://username:password@sometorrentsite.com/rss.php
}}}

====Using feeds that require cookies====

To use feeds that require cookies, you must find the cookie for the site, and grab UID and pass from it.
    * IE users will find their cookies in `%UserProfile%\Cookies`.
    * Firefox users will find their cookies in Tools -> Options -> Privacy -> Show Cookies
    * Opera users will find their cookies in Tools -> Advanced -> Cookies
    * Users of other browsers will have to consult their browser's documentation.
Once you have the necessary information, use this format for the feed URL:
{{{
http://sometorrentsite.com/rss.php:COOKIE:name1=value;name2=value;
}}}
Another way to inform ruTorrent about required cookies is provided via plug-in [PluginCookies Cookies].

====Automatically downloading torrents====

To automatically download torrents from a feed, you need to create one or several filters.
    # Right click on a feed and choose "RSS Manager". The appropriate dialog window will be shown.
    # Click on the "Add" button and type in the name of the new filter in the left column.
    # Enter filter's contents in the field Filter Settings -> Filter.
The filter's contents must be a Perl-compatible regular expression ([http://www.pcre.org/ PCRE]). The syntax of the PCRE is described, for example [http://ru.php.net/manual/en/reference.pcre.pattern.syntax.php here]. Also you can see [https://docs.google.com/Doc?docid=0AQYMH4twARqFZGZnazVkaGdfNWR0ajV4Z2No&hl=en this] PCRE tutorial (thanx to [http://code.google.com/u/@VxhSQFBQBRJHWQl0/ gq.2.jpw]).

This is a basic set of operations, required to setup the automatic downloads. The rest of the functions are extra features for more control of the automatic downloads.
    * "Exclude:" allows you to exclude certain strings from matching. An example is you don't want releases with AC3 audio and H.264: you can write {{{/(AC3|264)/i}}} in "Exclude:" to exclude those.
    * "RSS:" chooses what feed you want the filter to apply to.
    * "Directory:" allows you to choose a specific folder where torrents will be saved to.
    * "Don't start the download automatically" will add any downloaded torrents in "Stopped" mode. They will be added to your list, but will not begin downloading until you choose them from the torrent list and start them. 
    * "Label:" auto-sets a label for torrents that match the filter. 
    * Click the button "?" to check filter's settings. If the filer is correct, the number of torrents on the RSS feed that match the filter will be shown. Otherwise you will see an appropriate message in the ruTorrent's log.
[http://rutorrent.googlecode.com/svn/wiki/images/rssdownloader.jpg]

== How does it work ==

When ruTorrent starts with installed RSS plug-in first time it sends a command to the rTorrent scheduler, which begins to poll RSS feeds and saves them locally. During the synchronization it checks feeds' content whether it matches to defined filters. If a match is found, corresponding .torrent-files are sent to rTorrent for proceeding. Diagnostic messages about unsuccessful loads and/or synchronizations will be shown in the ruTorrent log window at the next it's load.

Once again - the poll process begins only after first start of the ruTorrent. I.e. there will not be any useful action between start of rTorrent and then first start of ruTorrent. To avoid this, a special string should be added to the rTorrent configuration file (see below). 

== Additional plug-in adjustment ==

Should be done in the file `plugins/rss/rssconf.php`.
    * `$updateInterval` - the variable sets the time interval between synchronizations of RSS feeds with their local copies (in minutes). By default - 30 minutes.
    * `$isAutoStart` - the variable defines how the plug-in work starts. If it is set to "true", the command to the rTorrent scheduler will be sent on ruTorrent first start. Otherwise the scheduler needs to be activated independently. To do this, the following string should be added into the rTorrent configuration file: 
{{{
schedule = rss,0,00:30:00,"execute={sh,-c,php full_path_to_plugin/update.php& exit 0}"
}}}
 where full_path_to_plugin - is a full path to the RSS plug-in.