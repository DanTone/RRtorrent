#summary Про настройку scgi gateway.

== Теория ==

Начиная с версии 0.7.5 rTorrent можно [http://libtorrent.rakshasa.no/wiki/RTorrentXMLRPCGuide сконфигурировать] так, что он будет принимать запросы извне по протоколу XMLRPC. Запросы эти должны быть "завернуты" в [http://ru.wikipedia.org/wiki/SCGI SCGI обертку]. И это хорошо. Плохо, однако, то, что SCGI запросы не ходят через HTTP прокси. Да и никакой системы авторизации rTorrent не предусматривает - заходи, кто хочешь, бери что надо. Проблема эта решается несколькими способами, наиболее распространенный - использование стандартного веб-сервера. Т.е. клиент обращается не к rTorrent, а к веб-серверу по определенному URL (обычно /RPC2), оформляя свой запрос согласно HTTP протоколу. А уже веб-сервер переправляет эти запросы rTorrent-у, срезая с них HTTP-обертку и навешивая SCGI. А с ответами rTorrent-а, соответственно, проделывается обратная операция. Попутно веб-сервер может осуществлять проверку - а имеет ли клиент права лезть за информацией к rTorrent. 

== Практика ==

 * Если Вы являетесь счастливым обладателем веб-сервера [http://www.lighttpd.net lighttpd], то Вы должны отредактировать его конфигурационный файл (lighttpd.conf) следующим образом:
   # Раскомментировать (или добавить, если таковой нет) строчку "mod_scgi" в разделе server.modules.
   # Оформить раздел scgi.server так:
{{{
        scgi.server = (
                "/RPC2" =>
                        ( "127.0.0.1" =>
                                (                
                                        "host" => "127.0.0.1",
                                        "port" => 5000,
                                        "check-local" => "disable"
                                )
                        )
                )
}}}
 * Для веб-сервера [http://httpd.apache.org/ apache] нужно 
   # Установить модуль mod_scgi. Если Вы не знаете, где его взять для Вашей системы - качайте его [http://python.ca/scgi/ исходники] и компилируйте самостоятельно.
   # Добавить в файл конфигурации (httpd.conf) строчку 
{{{
        SCGIMount /RPC2 127.0.0.1:5000
}}}