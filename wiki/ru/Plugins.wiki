#labels Featured
----
= Плагины =
----

<wiki:toc />

== Введение  ==

Часть функциональности ruTorrent реализуется плагинами, что дает пользователю возможность собрать "свой собственный теремок" без ненужных лично ему частей. [HowToCreatePlugin И даже дописать что-то недостающее, не затрагивая собственно код ruTorrent].

== Установка плагинов ==

Для установки плагина нужно развернуть содержимое его архива в директорию `rutorrent/plugins`. Уточняю - развернуть не нарушая структуры директорий в архиве, в результате каждому плагину должна соответствовать отдельная директория внутри `rutorrent/plugins`. 
Подробнее смотрите [http://code.google.com/p/rutorrent/downloads/list загрузка архива] и [GetFromSVN загрузка с SVN].

*Внимание!* Ставьте только те плагины, которые Вам действительно нужны. Чем больше плагинов Вы поставите, тем медленнее будет происходить загрузка интерфейса ruTorrent.

== Удаление плагинов ==

Возможны два способа:

 # Удалить директорию плагина вместе с содержимым. Либо
 # [Config#plugins.ini Пометить плагин как незагружаемый] в файле `conf/plugins.ini`. Либо
 # Отметить плагин как незагружаемый на интерфейсе ruTorrent (см. контекстное меня на закладке "Плагины"). Данный способ применим не для всех плагинов.

*Внимание!* После удаления плагинов по варианту 1 или 2 Вы должны рестартовать rTorrent. В противном случае ruTorrent может работать некорректно. Если останавливать rTorrent уж очень не хочется - загрузите ruTorrent и воспользуйтесь пунктом контекстного меню "Выгрузить" на закладке "Плагины" *перед* процедурой удаления.

== Настройка плагинов ==

В [Config#%D0%9C%D0%BD%D0%BE%D0%B3%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7%D0%BE%D0%B2%D0%B0%D1%82%D0%B5%D0%BB%D1%8C%D1%81%D0%BA%D0%B0%D1%8F_%D0%B8_%D0%BE%D0%B4%D0%BD%D0%BE%D0%BF%D0%BE%D0%BB%D1%8C%D0%B7 многопользовательской конфигурации] имеется возможность настроить каждый плагин индивидуально для каждого пользователя. Для этого следует создать директорию `rutorrent/conf/users/USERNAME/plugins/plugin-name`, 
скопировать в нее файл конфигурации плагина - `conf.php` - и отредактировать его по месту. Под `USERNAME` здесь понимается имя, с которым авторизовался пользователь, под `plugin-name` - имя плагина.

Например, в Вашей системе имеются пользователи `dick` и `tom`, и каждый из них хочет использовать определенную утилиту для создания торрента в плагине [PluginCreate Create]. 
Примерная последовательность команд такова:

{{{
mkdir -p /var/www/rutorrent/conf/users/tom/plugins/create
mkdir -p /var/www/rutorrent/conf/users/dick/plugins/create
cp /var/www/rutorrent/plugins/create/conf.php /var/www/rutorrent/conf/users/tom/plugins/create
cp /var/www/rutorrent/plugins/create/conf.php /var/www/rutorrent/conf/users/dick/plugins/create
}}}

после чего изменяем значение переменной `$useExternal` в `tom/plugins/create/conf.php` и `dick/plugins/create/conf.php` соответственно.

*Замечание:* некоторые плагины не имеют файла конфигурации, к ним данная техника неприменима.

== Автостарт плагинов ==

Как правило, плагины начинают работу, когда пользователь в первый раз загружает ruTorrent в браузере. Т.е. в промежуток между стартом rTorrent и первым после этого стартом ruTorrent никакой полезной работы производиться не будет. Чтобы избежать этого, нужно добавить в конфигурационный файл rTorrent специально обученную строчку:

{{{
execute = {sh,-c,/usr/bin/php /var/www/rutorrent/php/initplugins.php tom &}
}}}

*Замечание:* в Вашей конфигурации путь к интерпретатору php, путь к ruTorrent и имя пользователя (`tom`) скорее всего, отличаются. Не забудьте отредактировать их должным образом. В случае однопользовательской конфигурации имя пользователя должно отсутствовать.

== Список плагинов ==

 # [PluginRPC RPC] - плагин, осуществляющий связь между rtorrent и веб-сервером. (Замена mod_scgi).
 # [PluginErasedata EraseData] - добавляет в контекстное меню закачки пункт "Удалить вместе с данными".
 # [PluginCreate Сreate] - добавляет команду создания нового торрента.
 # [PluginTrafic Trafic] - реализует подсистему учета трафика.
 # [PluginRSS RSS] - реализует работу с RSS рассылками.
 # [PluginRSSURLRewrite RSSURLRewrite] - формирование URL для элементов RSS рассылок.
 # [PluginEdit Edit] - позволяет редактировать список трекеров существующей закачки.
 # [PluginThrottle Throttle] - позволяет устанавливать отдельные ограничения скорости для группы закачек.
 # [PluginRetrackers Retrackers] - автоматически дописывает в добавляемые закачки необходимые ретрекеры. 
 # [PluginCookies Cookies] - позволяет задавать набор cookies для трекеров, использующих соответствующую авторизацию.
 # [PluginLoginMgr LoginMgr] - позволяет задавать логин/пароль для доступа к ряду трекеров, с которыми использование плагина cookies невозможно.
 # [PluginExtsearch ExtSearch] - реализует поиск раздач по ряду сайтов.
 # [PluginScheduler Scheduler] - реализует ограничения скорости закачки/отдачи в зависимости от часа суток и дня недели.
 # [PluginAutotools AutoTools] -  реализует некоторые функции автоматизации (autolabel, automove).
 # [PluginDataDir DataDir] - позволяет сменить каталог данных торрента.
 # [PluginTracklabels TrackLabels] - добавляет набор автоматически формируемых по трекерам меток закачек на панель категорий.
 # [PluginGeoIP GeoIP] - показывает флаги и названия стран для пиров. 
 # [PluginRatio Ratio] - позволяет устанавливать отдельные ограничения ратио для группы закачек. 
 # [PluginShow_peers_like_wtorrent Show_peers_like_wtorrent] - меняет формат выдачи столбцов "Сиды" и "Пиры" для списка закачек. 
 # [PluginSeedingtime SeedingTime] - добавляет в список закачек дополнительные столбецы, в которых фиксируется время добавления и завершения каждой закачки. 
 # [PluginHTTPRPC HTTPRPC] - плагин, осуществляющий связь между rtorrent и веб-сервером. (Замена mod_scgi для слабого канала).
 # [PluginDiskspace DiskSpace] - индикатор свободного места на диске.
 # [PluginUnpack Unpack] - распаковка архивов.
 # [Plugin_getdir _getdir] - сервисный плагин, позволяющий осуществлять удобную навигацию по директориям сервера.
 # [PluginSource Source] - добавляет в контекстное меню закачки пункт "Получить .torrent файл".
 # [PluginChunks Chunks] - показывает информацию о скачанных частях закачки.
 # [PluginData Data] - добавляет в контекстное меню файла закачки пункт "Получить файл по HTTP".
 # [PluginCpuload Cpuload] - индикатор загрузки процессора.
 # [PluginTheme Theme] - смена стиля оформления ruTorrent.
 # [PluginFeeds Feeds] - доступ к текущим закачкам средствами RSS.
 # [PluginRutracker_check Rutracker_check] - проверка обновления торрента на трекере rutracker.org.

== Плагины прочих разработчиков ==
 # [PluginAutodlirssi Autodl-irssi] - irc бот для автоматизаци закачек.
 # [PluginPause Pause] - реализует паузу в автообновлении UI.
 # [PluginTaddLabel tadd-labels] - плагин для работы с метками.
 # [PluginHostname HostName] - показывает для пира имя хоста вместо IP адреса.
 # [PluginNFO NFO] - реализует показ .nfo файла закачки.
 # [PluginChat Chat] - добавляет чат для общения с другими пользователями.
 # [PluginLogoff Logoff] - плагин позволяет менять текущего пользователя и разлогиниваться.
 # [PluginInstantSearch InstantSearch] - при поиске среди локальных закачек результат будет показываться непосредственно по мере набора строки к поиску.
 # [https://github.com/zebraxxl/rutorrentMobile rutorrentMobile] - мобильная версия ruTorrent.
