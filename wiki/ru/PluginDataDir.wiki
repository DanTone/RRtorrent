#summary Описание плагина DataDir

== Введение ==

Плагин предназначен для замены текущего каталога данных торрента на другой. Такая операция требуется, например, если каталог с данными торрента был перенесен вручную. Можно также перенести загруженные данные торрента.

После установки плагина в контекстном меню закачки появляется новый пункт *"Сохранить в..."*, использование которого, приводит к выдаче диалога *"Настройки каталога данных"*. В данном диалоге нужно указать путь к данным торрента.

== Как оно работает ==

Плагин может как менять каталог данных на другой, так и переносить загруженные файлы данных.

Указывать нужно базовый каталог данных (без подкаталога, хранящегося в торренте), по аналогии с выбором каталога при добавлении нового торрента.

Реализовано 2 режима переноса файлов:
 # *webserver* - перемещение производится от имени пользователя веб-сервера.
 # *rtorrent* - перемещение производится в фоновом режиме и процесс никак не контролируется из веб-броузера.

Режим настраивается в conf.php, по-умолчанию rtorrent.

Никаких дополнительных манипуляций с рехэшированием плагином не производится. *rTorrent* самостоятельно рехэширует данные торрента, если обнаруживает смену размера или времени модификации файлов данных торрента. 
Из этого вытекает следующее:
 # если каталог данных был просто перенесен, то смена каталога данных у торрента не должна приводить к рехэшированию.
 # если каталог данных был скопирован, то рехэширование будет произведено (изменилось время модификации).

Для удобства выбора каталога для завершенных закачек на хосте рекомендуется установить сервисный плагин [Plugin_GetDir _getdir], тогда появится возможность навигации по файловой системе хоста.

----

== История версий ==

*1.1*
  * добавлена возможность перемещать файлы (2 режима)
  * добавлена возможность работы с группой выделенных торрентов

*1.0*
 * первая версия